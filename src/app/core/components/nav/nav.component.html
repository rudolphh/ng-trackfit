<nav class="navbar navbar-expand-md navbar-dark bg-primary shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" [routerLink]="currentUser ? '/home' : ''">
      Fitnits
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <!-- Left Side Of Navbar -->
      <ul class="navbar-nav mr-auto"></ul>

      <!-- Right Side Of Navbar -->
      <ul
        *ngIf="currentUser; else showLoginRegister"
        class="navbar-nav ml-auto align-items-center"
      >
        <!-- Search form -->

        <!-- User Links -->

        <li class="nav-item" style="margin-right: 15px">
          <a
            routerLink="/profile"
            class="nav-link active"
          >
            <i class="fas fa-2x fa-user-circle"></i>
            <span class="ml-2" style="vertical-align: super;">{{ currentUser.username }}</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            routerLink="/measurements"
            [routerLinkActive]="'active'"
            class="nav-link"
            ><i class="fas fa-weight fa-2x flex-right"
            matTooltip="Measurements"></i></a
          >
        </li>

        <li class="nav-item dropdown">
          <a
            id="navbarDropdown"
            class="nav-link active"
            href="#"
            role="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <i class="fas fa-2x fa-caret-down"></i>
          </a>

          <div
            aria-labelledby="navbarDropdown"
            class="dropdown-menu dropdown-menu-right bg-primary"
          >
            <a routerLink="/profile" class="dropdown-item">
              <i class="fas fa-user-circle"></i>Profile</a>
            <a routerLink="/friends" class="dropdown-item">
              <i class="fas fa-user-friends"></i>Friends</a>
            <div class="dropdown-divider"></div>
            <a routerLink="/settings" class="dropdown-item">
              <i class="fas fa-cog"></i>Settings</a>
            <a routerLink="/login" (click)="logout()" class="dropdown-item">
              <i class="fas fa-sign-out-alt"></i>Logout
            </a>
          </div>
        </li>
      </ul>

      <!-- Authentication Links -->

      <ng-template #showLoginRegister>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/login"
              [routerLinkActive]="'active'"
              >Login</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/register"
              [routerLinkActive]="'active'"
              >Register</a
            >
          </li>
        </ul>
      </ng-template>
    </div>
  </div>
</nav>
